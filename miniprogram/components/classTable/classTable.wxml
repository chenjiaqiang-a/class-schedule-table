<!--components/classTable/classTable.wxml-->
<view class="container">
  <view class="bg-white padding">
    <!--早上的课程-->
    <view class="table grid text-center">
      <view class="table-col" style="width: 9%;">
        <view class="table-row bg-cyan" style="height: 70rpx; line-height: 70rpx;">课序</view>
        <view class="table-row text-v bg-blue light" style="height: 240rpx; line-height: 70rpx;"> 第一大节</view>
        <view class="table-row text-v bg-blue light" style="height: 240rpx; line-height: 70rpx;"> 第二大节</view>
      </view>
      <view wx:for="{{[0, 1, 2, 3, 4, 5, 6]}}" wx:for-item="col" wx:key="*this" class="table-col"
        style="width: 13%;">
        <view class="table-row bg-cyan" style="height: 70rpx; line-height: 70rpx;">{{weekDays[col]}}</view>

        <block wx:for="{{[0, 1, 2, 3]}}" wx:for-item="row" wx:key="*this">
          <view wx:if="{{table[col][row].hasCourse && table[col][row].isBeginning}}" class="table-row text-v bg-mauve light" style="height: {{table[col][row].classLen * 120}}rpx" bindtap="showModal" data-target="Check" data-_id="{{table[col][row]._id}}" data-classid="{{table[col][row].classid}}" data-curcol="{{col}}" data-currow="{{row}}">{{table[col][row].className}}</view>
          <view wx:if="{{!table[col][row].hasCourse && !table[col][row].isBeginning}}" class="table-row text-v bg-cyan light" style="height: 120rpx;" bindtap="showModal" data-target="Add" data-curcol="{{col}}" data-currow="{{row}}"></view>
        </block>
       
      </view>
    </view>
    <!--午餐-->
    <view class="bg-cyan div-bar text-center" style="width: 100%; border-left-bottom: 4rpx solid white;">午餐</view>
    <!--下午的课程-->
    <view class="table grid text-center">
      <view class="table-col" style="width: 9%;">
        <view class="table-row text-v bg-blue light" style="height: 240rpx; line-height: 70rpx;"> 第三大节</view>
        <view class="table-row text-v bg-blue light" style="height: 360rpx; line-height: 70rpx;"> 第四大节</view>
      </view>

      <view wx:for="{{[0, 1, 2, 3, 4, 5, 6]}}" wx:for-item="col" wx:key="*this" class="table-col" style="width: 13%;">
        <block wx:for="{{[4, 5, 6, 7, 8]}}" wx:for-item="row" wx:key="*this" >
          <view wx:if="{{table[col][row].hasCourse && table[col][row].isBeginning}}" class="table-row text-v bg-mauve light" style="height: {{table[col][row].classLen * 120}}rpx" bindtap="showModal" data-target="Check" data-_id="{{table[col][row]._id}}" data-classid="{{table[col][row].classid}}" data-curcol="{{col}}" data-currow="{{row}}">{{table[col][row].className}}</view>
          <view wx:if="{{!table[col][row].hasCourse && !table[col][row].isBeginning}}" class="table-row text-v bg-cyan light" style="height: 120rpx;" bindtap="showModal" data-target="Add" data-curcol="{{col}}" data-currow="{{row}}"></view>
        </block>
      </view>
    </view>
    <!--晚餐-->
    <view class="bg-cyan div-bar text-center" style="width: 100%; border-left-bottom: 4rpx solid white;">晚餐</view>
    <!--晚上的课程-->
    <view class="table grid text-center">
      <view class="table-col" style="width: 9%;">
        <view class="table-row text-v bg-blue light" style="height: 360rpx; line-height: 70rpx;"> 第五大节</view>
      </view>

      <view wx:for="{{[0, 1, 2, 3, 4, 5, 6]}}" wx:for-item="col" wx:key="*this" class="table-col" style="width: 13%;">
        <block wx:for="{{[9, 10, 11]}}" wx:for-item="row" wx:key="*this" >
          <view wx:if="{{table[col][row].hasCourse && table[col][row].isBeginning}}" class="table-row text-v bg-mauve light" style="height: {{table[col][row].classLen * 120}}rpx" bindtap="showModal" data-target="Check" data-_id="{{table[col][row]._id}}" data-classid="{{table[col][row].classid}}" data-curcol="{{col}}" data-currow="{{row}}">{{table[col][row].className}}</view>
          <view wx:if="{{!table[col][row].hasCourse && !table[col][row].isBeginning}}" class="table-row text-v bg-cyan light" style="height: 120rpx;" bindtap="showModal" data-target="Add" data-curcol="{{col}}" data-currow="{{row}}"></view>
        </block>
      </view>
    </view>
  </view>

  <!--查看课程详情模态框-->
  <view class="cu-modal {{modalName=='Check'?'show':''}}">
    <view class="cu-dialog">
      <view class="cu-bar bg-white justify-end">
        <view class="content">{{table[curCol][curRow].className}}</view>
        <view class="action" bindtap="hideModal">
          <text class="cuIcon-close text-red"></text>
        </view>
      </view>
      <view class="padding-xl">
        确认这项任务已经完成了吗？
      </view>
      <view class="cu-bar bg-white justify-end">
        <view class="action">
          <button class="cu-btn line-green text-green" bindtap="hideModal">取消</button>
          <button class="cu-btn bg-green margin-left" bindtap="hideModal">确定</button>
        </view>
      </view>
    </view>
  </view>

  <!--添加课程-->
  <view class="cu-modal {{modalName=='Add'?'show':''}}">
    <view class="cu-dialog">
      <view class="cu-bar bg-white justify-end">
        <view class="content">添加课程</view>
        <view class="action" bindtap="hideModal">
          <text class="cuIcon-close text-red"></text>
        </view>
      </view>
      <view class="padding-xl">
        确认这项任务已经完成了吗？
      </view>
      <view class="cu-bar bg-white justify-end">
        <view class="action">
          <button class="cu-btn line-green text-green" bindtap="hideModal">取消</button>
          <button class="cu-btn bg-green margin-left" bindtap="hideModal">确定</button>
        </view>
      </view>
    </view>
  </view>

</view>